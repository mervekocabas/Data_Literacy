import csv
from collections import defaultdict
import ast

keyword_groups={
'Natural Language Processing': ['Grammar', 'Dictionaries', 'Decision making', 'Decoding', 'Error analysis', 'Encoding', 'Knowledge based systems', 'Knowledge discovery', 'Knowledge engineering', 'Knowledge transfer', 'Labeling', 'Learning (artificial intelligence)', 'Learning systems', 'Text-to-image synthesis', 'Natural language processing', 'Natural languages', 'Linguistics', 'Message passing', 'Inference algorithms', 'Markov processes', 'Markov random fields', 'Mixture models', 'Pragmatics', 'Prediction algorithms', 'Predictive models', 'Probabilistic logic', 'Semantics', 'Search problems', 'Sequential analysis', 'Supervised learning', 'Vocabulary', 'Text recognition', 'Syntactics', 'Taxonomy', 'Character recognition', 'Context-aware services', 'Handwriting recognition', 'Optical character recognition software', 'Phonetics', 'Speech enhancement', 'Speech recognition', 'Twitter', 'Voice activity detection', 'Annotations', 'Semantic search', 'Sentiment analysis', 'Text analysis', 'Text categorization', 'Writing', 'Information filters', 'Prediction methods', 'Electronic mail', 'Web and internet services', 'Web and internet services', 'Web conferencing', 'Webcams', 'Hypertext systems', 'Unified modeling language', 'User-generated content', 'Webcams', 'Browsers', 'Open Access', 'Resource description framework', 'QR codes', 'Query processing', 'Virtual assistants', 'Speech coding', 'Vocoders', 'Large language models', 'Text summarization', 'Text to image', 'Text to speech', 'Text to video', 'Recommender systems', 'Formal languages'], 

'Medical Imaging and Healthcare': ['Auditory system', 'Embryo', 'Body regions', 'Heart', 'Human activity recognition', 'Medical imaging', 'Biomedical imaging', 'Computed tomography', 'Cancer', 'Biomedical optical imaging', 'Disease diagnosis', 'Blood vessels', 'Bones', 'Diseases', 'Biomedical imaging', 'Disease diagnosis', 'X-ray imaging', 'Medical diagnostic imaging', 'Magnetic resonance imaging', 'Lesions', 'Liver', 'Positron emission tomography', 'Pancreas', 'Pathology', 'Retina', 'Medical diagnostic imaging', 'Genomics', 'Mel frequency cepstral coefficient', 'Optical imaging', 'Optical filters', 'Optical propagation', 'Optical scattering', 'Picture archiving and communication systems', 'Prognostics and health management', 'Assisted living', 'Biomedical monitoring', 'Biopsy', 'Calcium', 'Heart rate', 'Hospitals', 'Plethysmography', 'Phantoms', 'Thorax', 'Teeth', 'Veins', 'X-rays', 'Blindness', 'Autism', 'Axons', 'Colonoscopy', 'Diabetic retinopathy', 'Functional magnetic resonance imaging', 'Gait recognition', 'Lung', 'Lung cancer', 'Medical diagnosis', 'Neurological diseases', 'Pneumonia', 'Surgery', 'Telemedicine', 'Visual impairment', 'Heart beat', 'Hemorrhaging', 'Pediatrics', 'Radiometry', 'X-ray scattering', 'Microscopy', 'Neural activity', 'Neuroscience', 'Fingerprint recognition', 'Face detection', 'Iris recognition', 'COVID-19', 'Histopathology', 'Melanoma', 'Medical services', 'Myocardium', 'Radiography', 'Retinopathy', 'Toxicology', 'Wounds', 'Iris', 'MIMICs', 'Photothermal effects', 'Temperature distribution', 'Thermal analysis', 'Thermal lensing', 'Thermal stresses', 'Angiography', 'Biology', 'Cells (biology)', 'Medical conditions', 'Minimally invasive surgery', 'Photoplethysmography', 'Physiology', 'Radiology', 'Retinal vessels', 'Scanning electron microscopy', 'Fluorescence', 'Ultrasonic imaging', 'Breast cancer', 'Mammography', 'Biomechanics', 'Biomedical measurement', 'Infrared imaging', 'Medical treatment', 'Microwave imaging', 'Neuroimaging', 'Stroke (medical condition)', 'Aneurysm', 'Arteries', 'Biomarkers', 'Breast', 'Colon', 'Immune system', 'Lymph nodes', 'Mammography', 'Metastasis', 'Microwave imaging', 'Neuroimaging', 'Tumors', 'Endoscopes', 'Breast cancer', 'Biomedical measurement', 'Diabetes', 'Diagnostic radiography', 'Echocardiography', 'Medical treatment', 'Neuroimaging', 'Stroke (medical condition)', 'Magnetic resonance', 'Atrophy', 'Biological tissues', 'Organ transplantation', 'Anatomical structure', 'Spinal cord', 'Optical coherence tomography', 'Protein engineering', 'Speech codecs', 'Tongue', 'Temperature sensors', 'Membrane potentials', 'In vivo', 'Optical diffraction', 'Acoustic distortion', 'Multimodal sensors', 'Microphone arrays', 'Temperature', 'Transmission electron microscopy', 'Cancer treatment', 'Clinical diagnosis', 'Implants', 'Liver cancer', 'Stem cells', 'Soma', 'Protein sequence', 'Enzymes', 'Field-flow fractionation', 'Arrhythmia', 'Gallbladder', 'Liver diseases', "Parkinson's disease", 'Phenotypes', 'Point of care', 'Pulmonary diseases', 'Sleep apnea', 'Scalp', 'Shoulder', 'Cornea', 'Mitochondria'], 

'Autonomous Vehicles and Robotics': ['Cooperative systems', 'Autonomous aerial vehicles', 'Human-robot interaction', 'Vehicle detection', 'Autonomous driving', 'Autonomous automobiles', 'Autonomous vehicles', 'Robotics', 'Automation', 'Aerospace electronics', 'Path planning', 'SLAM', 'Collision avoidance', 'Navigation', 'UAVs', 'Drone vision', 'Aerial vehicle navigation', 'Remote inspections', 'Swarm intelligence', 'Autonomous systems', 'Global Positioning System', 'Wireless sensor networks', 'Automobiles', 'Autonomous vehicles', 'Robotics', 'Path planning', 'Navigation', 'UAVs', 'Drone vision', 'Aerial vehicle navigation', 'Engines', 'Humanoid robots', 'Marine vehicles', 'Legged locomotion', 'Manipulators', 'Robot sensing systems', 'Robot vision systems', 'Robots', 'Simultaneous localization and mapping', 'Motion compensation', 'Motion estimation', 'Object detection', 'Object recognition', 'Object segmentation', 'Object tracking', 'Robot vision systems', 'Unmanned aerial vehicles', 'Vehicle dynamics', 'Vehicles', 'Visual odometry', 'Visual perception', 'Visual systems', 'Autonomous robots', 'Drones', 'Helicopters', 'Motorcycles', 'Servosystems', 'Aircraft', 'Boats', 'Lane detection', 'Propulsion', 'Robot kinematics', 'Service robots', 'Trajectory planning', 'Machine vision', 'Sensor fusion', 'Traffic control', 'Indoor navigation', 'Wearable computers', 'Airplanes', 'Coordinate measuring machines', 'Rotation measurement', 'Machine-to-machine communications', 'Wearable computers', 'Smart cameras', 'Mobile agents', 'Autonomous agents', 'Coordinate measuring machines', 'Proportional control', 'Tracking loops', 'Relays', 'Tracking loops', 'Relays', 'Inertial navigation', 'Inertial sensors', 'Robot motion', 'Robotic assembly', 'Social robots', 'System identification', 'PI control', '6-DOF', 'Accelerometers', 'Active perception', 'Odometry', 'Vehicle routing', 'Robot learning', 'MIMO radar', 'Vibration measurement', 'Assistive robots', 'Intelligent vehicles', 'Manipulator dynamics', 'Motion planning', 'Propioception', 'Global navigation satellite system', 'Smart cities'], 

'Human-Centric Vision': ['Usability', 'Affordances', 'Forehead', 'Pain', 'Human computer interaction', 'Human in the loop', 'Oral communication', 'Sign language', 'Activity recognition', 'Human pose estimation', 'Gesture recognition', 'Facial recognition', 'Emotion analysis', 'Gait analysis', 'Cognition', 'Assistive technology', 'Creativity', 'Behavioral sciences', 'Eyelids', 'Fingers', 'User experience', 'User interfaces', 'Emotion recognition', 'Gesture recognition', 'Facial recognition', 'Cognition', 'Face recognition', 'Facial features', 'Gaze tracking', 'Face', 'Facial recognition', 'Head', 'Lips', 'Mouth', 'Hip', 'Neck', 'Muscles', 'Hippocampus', 'Psychology', 'Hair', 'Microphones', 'Nose', 'Elbow', 'Ear', 'Skin', 'Torso', 'Wrist', 'Face detection', 'Fingerprint recognition', 'Iris recognition', 'Identification of persons', 'Biometrics (access control)', 'Faces', 'Facial animation', 'Human factors', 'Human image synthesis', 'Tactile sensors', 'Force', 'Stress', 'Weight measurement', 'Life estimation', 'Object oriented modeling', 'Brain', 'Cognitive science', 'Life estimation', 'Cognitive processes', 'Mood', 'Problem-solving', 'Problem-solving', 'Brain-computer interfaces', 'Social groups', 'Animal behavior', 'Associative memory', 'Biological systems', 'Affective computing', 'Collective intelligence', 'Cultural differences', 'Weight control', 'Adaptive learning', 'Attention mechanisms', 'Depression', 'Social sciences', 'Public security', 'Intent recognition', 'Biometrics', 'Prevention and mitigation'], 

'Natural Scenes and Environmental Analysis': ['Fluids', 'Water', 'Climate change', 'Flora', 'Flowering plants', 'Geospatial analysis', 'Land surface', 'Phenology', 'Plant diseases', 'Plantations', 'Agriculture', 'Atmospheric measurements', 'Atmospheric modeling', 'Clouds', 'Remote sensing', 'Ocean monitoring', 'Aerial imagery', 'Satellite images', 'Climate analysis', 'Floods', 'Sea surface', 'Agriculture', 'Atmospheric measurements', 'Clouds', 'Ocean monitoring', 'Climate analysis', 'Geophysical measurement techniques', 'Ground penetrating radar', 'Extraterrestrial measurements', 'Meteorology', 'Rain', 'Rivers', 'Snow', 'Roads', 'Public transportation', 'Geophysical measurement techniques', 'Acoustics', 'Animals', 'Birds', 'Clutter', 'Liquids', 'Monitoring', 'Pipelines', 'Powders', 'Photonics', 'Satellites', 'Sensors', 'Sensor arrays', 'Spatial resolution', 'Spatial coherence', 'Vegetation', 'Urban areas', 'Water resources', 'Biodiversity', 'Earth', 'Environmental analysis', 'Geology', 'Natural scenes', 'Sea measurements', 'Vegetation mapping', 'Wildlife', 'Forestry', 'Fungi', 'Methane', 'Rocks', 'Whales', 'Lightning', 'Ecosystems', 'Horses', 'Hurricanes', 'Oceans', 'Plants (biology)', 'Reservoirs', 'Spaceborne radar', 'Irrigation', 'Systematics', 'Earthquakes', 'Oils', 'Density measurement', 'Pollution measurement', 'Rough surfaces', 'Surface roughness', 'Moon', 'Rough surfaces', 'Surface roughness', 'Light scattering', 'Nonhomogeneous media', 'Spectroscopy', 'Spatial diversity', 'Nonhomogeneous media', 'Spectroscopy', 'Spatial diversity', 'Soil', 'Scattering parameters', 'Vibrations', 'Hazards', 'Orbits', 'Impurities', 'Current distribution', 'Arctic', 'Biomes', 'Fish', 'Greenhouse effect', 'Storms', 'Seals', 'Structural engineering', 'Antarctica', 'Rainforests', 'Marine vegetation', 'Habitats', 'Green buildings', 'Precipitation', 'Planets', 'Acoustic field', 'Acoustic noise', 'Lava', 'Area measurement', 'Contamination'], 

'Augmented Reality (AR) and Virtual Reality (VR)': ['Blogs', 'Headphones', 'Keyboards', 'Wheels', 'Augmented reality', 'Virtual reality', '3D reconstruction', 'Avatars', 'Holography', 'Immersive environments', '3D reconstruction', 'Immersive environments', 'Graphics', 'Graphics processing units', 'Telepresence', 'Rendering (computer graphics)', 'Virtual reality', '3D reconstruction', 'Immersive environments', 'Three-dimensional displays', 'Two dimensional displays', 'Augmented reality', 'Extended reality', 'Immersive experience', 'Mixed reality', 'Virtual environments', 'Virtual private networks', 'X reality', 'Animation', 'Image motion analysis', 'Optical flow', 'Radar imaging', 'Visual effects', 'Surfaces', 'Liquid crystal displays', 'Image texture', 'Liquid crystal displays', 'Optical microscopy', 'Optical saturation', 'Optical feedback', 'Image texture', 'Image storage', 'Ray tracing', 'Optical reflection', 'Optical feedback', 'Optical design', 'Smart cameras', 'Computer graphics', 'Computer graphics', 'Metaverse', 'Geometric modeling', 'Video codecs', 'Digital cameras', 'Image augmentation', 'Image transformation', 'Artificial light', 'Image morphing', 'Neural radiance field', 'Virtual machine monitors', 'Wrapping', 'Digital twins', 'Portable media players'], 

'Video Analysis and Action Recognition': ['Digital images', 'Image forensics', 'Sensor systems and applications', 'Vision sensors', 'Video processing', 'Motion segmentation', 'Event detection', 'Temporal analysis', 'Video summarization', 'Action recognition', 'Motion segmentation', 'Event detection', 'Video summarization', 'Action recognition', 'Image recognition', 'Image segmentation', 'Image matching', 'Image resolution', 'Image retrieval', 'Image restoration', 'Motion pictures', 'Pattern recognition', 'Pose estimation', 'Saliency detection', 'Motion compensation', 'Motion estimation', 'Joints', 'Junctions', 'Kinematics', 'Kinetic theory', 'Message passing', 'Monitoring', 'Structure from motion', 'Streaming media', 'Target recognition', 'Target tracking', 'Tracking', 'Video surveillance', 'Video sequences', 'Videos', 'Video compression', 'Action recognition', 'Motion capture', 'Video coding', 'Instance segmentation', 'Video description', 'Video games', 'Image sequences', 'Stereo image processing', 'Video on demand', 'Video recording', 'Video tracking', 'Synthetic aperture radar', 'Radar tracking', 'Sonar detection', 'Character generation', 'Human image synthesis', 'Radar', 'Firing', 'Explosions', 'Audio recording', 'Speech', 'Timbre', 'Speech synthesis', 'Audio recording', 'Sparse representation', 'Shape control', 'Sprites (computer)', 'Motion analysis', 'Pattern classification', 'Scene classification', 'Background noise', 'Fine-grained image recognition', 'Video reviews'], 

'Generative Models and Creativity': ['Multilayer perceptrons', 'GANs', 'Image generation', 'Style transfer', 'Artistic applications', 'Artificial intelligence', 'Boosting', 'Brain modeling', 'Artificial neural networks', 'Art', 'Boosting', 'Artificial neural networks', 'Generative adversarial networks', 'Image generation', 'Image representation', 'Painting', 'Paints', 'Multimedia communication', 'Art', 'Generative adversarial networks', 'Deepfakes', 'Generative models', 'Image synthesis', 'Federated learning', 'Self-supervised learning', 'Music', 'Photorealism', 'Representation learning', 'Mashups', 'Synthetic data', 'Zero-shot learning', 'Active appearance model', 'Animation', 'Collaborative work', 'Pattern analysis', 'Decision trees', 'Sufficient conditions', 'Decision trees', 'Belief propagation', 'Sparse representation', 'Expectation-maximization algorithms', 'Learning automata', 'Manifold learning', 'Change detection algorithms', 'Pareto optimization', 'Phylogeny', 'Change detection algorithms', 'Pareto optimization', 'Phylogeny', 'Q-learning', 'Quantum annealing', 'Quantum mechanics', 'Quantum computing', 'Quantum state', 'Quadrature amplitude modulation', 'Qubit', 'Algorithms', 'Simulated annealing', 'Turing machines', 'Predictive coding', 'Automata', 'Hypercubes', 'Artificial general intelligence', 'Generative AI', 'Disentangled representation learning', 'Diffusion models', 'Procedural generation', 'Prompt engineering', 'Deep reinforcement learning', 'Imitation learning', 'Few shot learning', 'Incremental learning'], 

'Security and Surveillance': ['Access control', 'Copyright protection', 'Encryption', 'Threat modeling', 'Surveillance systems', 'Anomaly detection', 'Crowd monitoring', 'Camera networks', 'License plate recognition', 'Security applications', 'Alarm systems', 'Broadcasting', 'Surveillance systems', 'Anomaly detection', 'Camera networks', 'License plate recognition', 'Security applications', 'Forensics', 'Forgery', 'Face recognition', 'Image registration', 'Image quality', 'Image sensors', 'Privacy', 'Security', 'Search engines', 'Protocols', 'Forensics', 'Forgery', 'Anomaly detection', 'Surveillance', 'Video surveillance', 'Adversarial machine learning', 'Authentication', 'Cyber-physical systems', 'Law enforcement', 'Safety', 'Information filtering', 'Information sharing', 'Telecommunication traffic', 'Security', 'Surveillance', 'Face detection', 'Fingerprint recognition', 'Iris recognition', 'Synthetic aperture radar', 'Radar detection', 'Radar imaging', 'Weapons', 'Radar', 'Splicing', 'Signal denoising', 'Signal reconstruction', 'Regulators', 'Trojan horses', 'Botnet', 'Hash functions', 'Handover', 'Radar measurements', 'Radar measurements', 'Computer viruses', 'Legislation', 'Personal protective equipment', 'Evidence theory', 'Ad hoc networks', 'Banking', 'Cryptography', 'Computer hacking', 'Fraud', 'Cellular networks', 'Low latency communication', 'Privacy breach', 'Public security', 'Information leakage', 'Authorization', 'Radar cross-sections', 'Communication channels'], 

'Scene Understanding and Reconstruction': ['Knowledge representation', 'Inference mechanisms', 'Visual analytics', 'Scene segmentation', 'Semantic segmentation', 'Depth estimation', 'Scene parsing', 'Clustering algorithms', 'Clustering methods', 'Context modeling', '3D reconstruction', 'Knowledge graphs', 'Surface cracks', 'Scene segmentation', 'Depth estimation', '3D reconstruction', 'Image segmentation', 'Image reconstruction', 'Image denoising', 'Image decomposition', 'Image edge detection', 'Image analysis', 'Image segmentation', 'Object detection', 'Object segmentation', 'Scene parsing', 'Scattering', 'Active contours', 'Apertures', 'Measurement', 'Optical detectors', 'Optical losses', 'Optical computing', 'Optical distortion', 'Optical sensors', 'Optical surface waves', 'Optical variables control', 'Optical wavelength conversion', 'Refractive index', 'Surface reconstruction', 'Surface morphology', 'Surface texture', 'Surface treatment', 'Surface acoustic waves', 'Skeleton', 'Surface waves', '3D reconstruction', 'Bundle adjustment', 'Depth estimation', 'Context awareness', 'Intelligent systems', 'Interactive systems', 'Spatial databases', 'Image fusion', 'Octrees', 'Point cloud compression', 'Scene understanding', 'Stereo vision', 'Image capture', 'Image enhancement', 'Inspection', 'Optical flow', 'Superresolution', 'Three-dimensional printing', 'Gabor filters', 'Machine vision', 'Code', 'Internet', 'Information retrieval', 'Search methods', 'Partial differential equations', 'Nonlinear filters', 'Relaxation methods', 'Corner detection', 'Strips', 'Subspace constraints', 'Diffraction', 'Flow graphs', 'Diffraction', 'Ray tracing', 'Shape control', 'Scientific computing', 'Sequences', 'Bifurcation', 'Null space', 'Bifurcation', 'Null space', 'Planing', 'Porcelain', 'Pansharpening', 'Optical polarization', 'Computational geometry', 'Optical interferometry', 'Phase locked loops', 'Line-of-sight propagation', 'Phase frequency detectors', 'Graph convolutional networks', 'Neural radiance field'], 

'Vision for Social Good': ['Accessibility', 'Wildlife monitoring', 'Disaster management', 'Social media analysis', 'Assistive technology', 'Crowdsourcing', 'Wildlife monitoring', 'Disaster management', 'Social media analysis', 'Market research', 'Social media analysis', 'Location awareness', 'Disaster management', 'Social network services', 'Disaster management', 'Wildlife monitoring', 'Crowdsourcing', 'Crowd monitoring', 'Accessibility', 'Assistive technologies', 'Education', 'Healthcare', 'Smart agriculture', 'Vision for social good', 'Employment', 'Ergonomics', 'Risk management', 'Green products', 'Social factors', 'Traffic control', 'Irrigation', 'Light fields', 'Optics', 'Optical variables measurement', 'Franchising', 'Spinning', 'Emergency services', 'Procurement', 'Business process re-engineering', 'Smart homes', 'Distance learning', 'Distance learning', 'International trade', 'Military computing', 'Social robots', 'Computer aided instruction', 'Scholarships', 'Waste materials', 'Precision agriculture', 'Preventative and mitigation measures', 'Continuing education', 'Smart cities', 'Prevention and mitigation'], 

'Datasets and Benchmarks': ['Large-scale datasets', 'Benchmark testing', 'Vision datasets', 'Training techniques', 'Evaluation protocols', 'Dataset creation', 'Large-scale datasets', 'Benchmark testing', 'Vision datasets', 'Image databases', 'Indexes', 'Indexing', 'Training data', 'Benchmarks', 'Data augmentation', 'Datasets', 'Demography', 'Geography', 'Meteorological radar', 'Millimeter wave radar', 'Mars', 'Evaluation metrics', 'Ground truth', 'Big Data applications', 'Reviews', 'Surveys', 'Performance evaluation', 'Reproducibility of results', 'NIST', 'Annotations', 'Measurement units', 'Throughput', 'Medical conditions', 'Crops', 'Economic indicators', 'Data analysis', 'Table lookup', 'Time complexity', 'Data mining', 'Data models', 'Data acquisition', 'Metadata', 'Annotation tools', 'Data aggregation', 'Data analysis', 'Data science', 'Data analysis', 'Data integrity', 'Multimedia databases', 'Information exchange', 'Information representation', 'Information exchange', 'Information representation', 'Triples (Data structure)', 'Queueing analysis', 'Data centers', 'Integer linear programming', 'Integer programming', 'Data integration', 'Data security', 'Collaborative filtering', 'Contrastive learning', 'Data integration', 'Information theory', 'Arrays'], 

'Tools and Frameworks': ['Internet of Things', 'Actuators', 'Instruments', 'Toolkits', 'OpenCV', 'Software tools', 'Hardware tools', 'Development frameworks', 'Programming libraries', 'Software tools', 'Hardware', 'Adaptive optics', 'Memory management', 'Memory modules', 'Network architecture', 'Network topology', 'Next generation networking', 'Neural networks', 'Neurons', 'Microprocessors', 'Minimization methods', 'Parallel processing', 'Peer-to-peer computing', 'Routing', 'Registers', 'Real-time systems', 'Software', 'Servers', 'Runtime', 'Stacking', 'Tools', 'Web services', 'APIs', 'Frameworks', 'Libraries', 'Machine learning algorithms', 'Additive noise', 'Array signal processing', 'Beam steering', 'Low-pass filters', 'Multiple signal classification', 'Partitioning algorithms', 'Source coding', 'System-on-chip', 'Programming tools', 'Software development management', 'Toolkits', 'Printers', 'Conditional random fields', 'Filters', 'Logic programming', 'Markov decision processes', 'Metasearch', 'Nearest neighbor methods', 'Noise', 'YOLO', 'Portable document format', 'Tutorials', 'Simulation', 'Numerical simulation', 'Deep learning', 'Evolutionary computation', 'Control systems', 'Computational neuroscience', 'Timing', 'Band-pass filters', 'Fast Fourier transforms', 'Entropy coding', 'Phase estimation', 'Maximum a posteriori estimation', 'Mean square error methods', 'Frequency synthesizers', 'Neural circuits', 'Neural implants', 'Soft sensors', 'Transformer cores', 'Synthesizers', 'Sensors systems and applications', 'X3D', 'Design automation', 'Memory architecture', 'Programmable logic arrays', 'Matrix converters', 'Parallel algorithms', 'Control theory', 'Graphical user interfaces', 'Joining processes', 'Laser theory', 'Design automation', 'Software testing', 'Mission critical systems', 'IEEE activities', 'Terminology', 'Backtracking', 'Drives', 'Backtracking', 'Drives', 'Software algorithms', 'Workstations', 'Instruction sets', 'Cache memory', 'Feedback circuits', 'Contingency management', 'Capacity planning', 'Processor scheduling', 'SPICE', 'Circuits and systems', 'Commutation', 'Converters', 'Large scale integration', 'Operating systems', 'Edge computing', 'Calculators'], 

'Data Collection and Management': ['Inventory management', 'Data collection', 'Data mining', 'Data models', 'Data acquisition', 'Metadata', 'Annotation tools', 'Data collection', 'Data mining', 'Data models', 'Data acquisition', 'Metadata', 'Annotation tools', 'Data models', 'Data acquisition', 'Metadata', 'Annotation tools', 'Merging', 'Probes', 'Random access memory', 'Random variables', 'Sampling methods', 'Sorting', 'Tagging', 'Testing', 'Task analysis', 'Training', 'Big Data', 'Data collection', 'Data privacy', 'Data protection', 'Embedded systems', 'Sensor phenomena and characterization', 'Volume measurement', 'Wavelength measurement', 'Data-driven modeling', 'Distributed databases', 'Data compression', 'Data preprocessing', 'Debugging', 'Energy conservation', 'Load modeling', 'Power supplies', 'Production systems', 'Programming', 'Random processes', 'Recycling', 'Systems modeling', 'Storage management', 'Data assimilation', 'Resource management', 'Data transfer', 'Decontamination', 'Cleaning', 'Channel estimation', 'Current measurement', 'Position measurement', 'Measurement uncertainty', 'Power grids', 'Power system stability', 'Power industry', 'Sensor systems', 'Active pixel sensors', 'Charge coupled devices', 'Charge coupled devices', 'Measurement by laser beam', 'Distribution networks', 'Loading', 'Distribution networks', 'Loading', 'Sensor placement', 'Measurement errors', 'Force measurement', 'Digital systems', 'Noise generators', 'Receivers', 'Magnetic cores', 'Flexible printed circuits', 'Nonvolatile memory', 'Input variables', 'Transcriptomics'], 

'Core Vision Algorithms': ['Fitting', 'Human intelligence', 'Codes', 'Anisotropic magnetoresistance', 'Differential privacy', 'Phase measurement', 'Surface fitting', 'Feature extraction', 'Image processing', 'Convolution', 'Convolutional neural networks', 'Computational modeling', 'Clustering algorithms', 'Semantic segmentation', 'Frequency-domain analysis', 'Image color analysis', 'Image matching', 'Frequency division multiplexing', 'Pattern matching', 'Image edge detection', 'Image registration', 'Reconstruction algorithms', 'Adaptive systems', 'Bayes methods', 'Backpropagation', 'Convolutional codes', 'Frequency selective surfaces', 'Image annotation', 'Image coding', 'Imaging', 'Iterative closest point algorithm', 'Iterative methods', 'Kernel', 'Level set', 'Inference algorithms', 'Markov processes', 'Markov random fields', 'Mixture modelsPrediction algorithms', 'Predictive models', 'Quantization (signal)', 'Rate distortion theory', 'Rate-distortion', 'Support vector machines', 'Self-organizing feature maps', 'Transform coding', 'Transforms', 'Viterbi algorithm', 'Recurrent neural networks', 'Classification algorithms', 'Feature detection', 'Filtering algorithms', 'Image classification', 'Object detection', 'Segmentation', 'Tracking', 'Thresholding (Imaging)', 'Iterative algorithms', 'Matching pursuit algorithms', 'Multiresolution analysis', 'Matched filters', 'Residual neural networks', 'Reinforcement learning', 'Transfer learning', 'Sensor fusion', 'Deep learning', 'Fuzzy logic', 'Gabor filters', 'Frequency estimation', 'Frequency measurement', 'Gradient methods', 'Optical character recognition', 'Symbols', 'Optical buffering', 'Optical switches', 'Deep architecture', 'Graph neural networks', 'Neural network compression', 'Boolean functions', 'Propagation', 'Image texture', 'Propagation losses', 'Sparse representation', 'Binary trees', 'Channel coding', 'Iterative decoding', 'Directed acyclic graph', 'Particle filters', 'Propagation losses', 'Pattern classification', 'Optical diffraction', 'Motion analysis', 'Error correction codes', 'Scene classification', 'Floating-point arithmetic', 'Density functional theory', 'Spiking neural networks', 'Signal representation', 'Feedforward neural networks'], 

'Mathematical Foundations': ['Hilbert space', 'Optimization techniques', 'Closed-form solutions', 'Approximation algorithms', 'Computational complexity', 'Covariance matrices', 'Algebra', 'Optimization techniques', 'Closed-form solutions', 'Approximation algorithms', 'Computational complexity', 'Covariance matrices', 'Covariance matrices', 'Entropy', 'Estimation', 'Extrapolation', 'Euclidean distance', 'Laplace equations', 'Maximum likelihood estimation', 'Matrix decomposition', 'Linear approximation', 'Linear systems', 'Linear programming', 'Linear matrix inequalities', 'Monte Carlo methods', 'Optimization methods', 'Quadratic programming', 'Parametric statistics', 'Probability', 'Probability density function', 'Probability distribution', 'Principal component analysis', 'Inverse problems', 'Perturbation methods', 'Optimization', 'Acceleration', 'Adaptation models', 'Channel capacity', 'Chebyshev approximation', 'Graph theory', 'Graphical models', 'Geometry', 'Jacobian matrices', 'Mathematical model', 'Method of moments', 'Minimization', 'Manifolds', 'Numerical models', 'Probabilistic logic', 'Quaternions', 'Random variables', 'Differential equations', 'Finite element analysis', 'Radon', 'Sparse matrices', 'Stochastic processes', 'Semisupervised learning', 'Semantics', 'Symmetric matrices', 'Transfer functions', 'Tree graphs', 'Upper bound', 'Calculus', 'Linear algebra', 'Optimization', 'Probability theory', 'Statistics', 'Tensors', 'Vector quantization', 'Parameter estimation', 'Optimal matching', 'Estimation error', 'Angular velocity', 'Time-domain analysis', 'Correlation coefficient', 'Linear regression', 'Linearity', 'Diffusion processes', 'Directed graphs', 'Mathematical models', 'Sensitivity analysis', 'Ordinary differential equations', 'Stability analysis', 'Nash equilibrium', 'Limiting', 'Performance gain', 'Nash equilibrium', 'Limiting', 'Performance gain', 'Complex networks', 'Heterogeneous networks', 'Diversity methods', 'Fractals', 'Entropy coding', 'Partial differential equations', 'Sufficient conditions', 'Transient response', 'Taylor series', 'Fourier transforms', 'Dynamic programming', 'Maximum likelihood detection', 'Optimal control', 'State estimation', 'Stationary state', 'Subspace constraints', 'Adders', 'Adiabatic', 'Biological information theory', 'Information entropy', 'Nonlinear systems', 'Quantum computing', 'Adiabatic', 'Approximation error', 'Dynamic programming', 'Taylor series', 'Sparse representation', 'Statistical distributions', 'Quantum algorithm', 'Numerical analysis', 'Nonlinear dynamical systems', 'Physical optics', 'Evolution (biology)', 'Distortion measurement', 'Superluminescent diodes', 'Evolution (biology)', 'Distortion measurement', 'Superluminescent diodes', 'Difference equations', 'Functional analysis', 'Mathematical analysis', 'Quantum annealing', 'Quantum mechanics', 'Queueing analysis', 'Integer linear programming', 'Integer programming', 'Arithmetic', 'Conformal mapping', 'Heavily-tailed distribution', 'NP-hard problem', 'Simulated annealing', 'State-space methods', 'Error compensation', 'Polynomials', 'Posterior probability', 'Logistic regression', 'Lie groups', 'Mean field theory', 'Numerical stability', 'Reduced order systems', 'Uncertain systems', 'Teleportation', 'Hyperparameter optimization'], 

'Signal and Statistical Processing': ["Demodulation","Receiving antennas", "Wireless fidelity", 'Cross layer design', 'Friction', 'Laser beams', 'Fluctuations', 'Frequency estimation', 'Frequency measurement', 'Low-pass filters', 'Optical noise', 'Correlation', 'Covariance matrices', 'Noise reduction', 'Bayesian methods', 'Statistical models', 'AWGN', 'Noise', 'Random processes', 'Correlation', 'Covariance matrices', 'Noise reduction', 'Bayesian methods', 'Statistical models', 'Bayesian methods', 'Noise reduction', 'Statistical models', 'Gaussian distribution', 'Gaussian mixture model', 'Gaussian noise', 'Gaussian processes', 'Kalman filters', 'Hidden Markov models', 'Filtering', 'Frequency modulation', 'Noise measurement', 'Noise robustness', 'Signal resolution', 'Signal to noise ratio', 'Mutual information', 'Gaussian distribution', 'Gaussian noise', 'Bayesian methods', 'Statistical models', 'Kalman filters', 'Hidden Markov models', 'Frequency modulation', 'Gaussian mixture model', 'Absorption', 'Acceleration', 'Attenuation', 'Bandwidth', 'Bit error rate', 'Bit rate', 'Histograms', 'Interference', 'Interpolation', 'Loss measurement', 'Nonlinear distortion', 'Nonlinear optics', 'Modulation', 'Optimized production technology', 'Power demand', 'Potential energy', 'Redundancy', 'RF signals', 'Radio frequency', 'Spectral analysis', 'Spectrogram', 'Sensitivity', 'Smoothing methods', 'Source separation', 'Wavelet domain', 'Wavelet transforms', 'Discrete wavelet transforms', 'Fourier series', 'Image filtering', 'Signal processing algorithms', 'Statistical analysis', 'Time series analysis', 'Time-frequency analysis', 'Transmission line measurements', 'Magnetic losses', 'Magnetic separation', 'Compressed sensing', 'Diversity reception', 'Spread spectrum communication', 'Channel estimation', 'Current measurement', 'Splicing', 'Channel estimation', 'Current measurement', 'Splicing', 'Band-pass filters', 'Fast Fourier transforms', 'Entropy coding', 'Transportation', 'Signal denoising', 'Signal reconstruction', 'Audio recording', 'Filtering theory', 'Wavelet analysis', 'Multiplexing', 'Pipeline processing', 'Noise level', 'Frequency response', 'Fading channels', 'Adaptive filters', 'Filter banks', 'Filtering theory', 'Filtration', 'Wavelet analysis', 'Signal processing', 'Frequency conversion', 'Multiplexing', 'Low-frequency noise', 'Radar measurements', 'Sparks', 'Radar measurements', 'Sparks', 'Multiuser detection', 'Speech codecs', 'Time division multiplexing', 'Equalizers', 'Phase modulation', 'Passband', 'Reactive power', 'Rectifiers', 'Acoustic distortion', 'Gain measurement', 'Radar signal processing', 'Radar clutter', 'Q-factor', 'Q measurement', 'Speech coding', 'Power filters', 'Silver', 'Delay effects', 'MIMO radar', 'Digital signal processing', 'Multi-stage noise shaping', 'Optical modulation', 'Optical refraction', 'PSNR', 'Resonance', 'Transcoding'], 

'Industrial and Manufacturing Applications': ["Heat-assisted magnetic recording", 'Tungsten', 'Quality control', 'Factory automation', 'Defect detection', 'Assembly line monitoring', 'Industrial vision', 'Batch production systems', 'Buildings', 'Architecture', 'Bridges', 'Quality control', 'Factory automation', 'Defect detection', 'Industrial vision', 'Batch production systems', 'Flyback transformers', 'Micromechanical devices', 'Laser modes', 'Laser radar', 'Lasers', 'Integrated circuits', 'Integrated optics', 'Geometrical optics', 'Electronics packaging', 'Quality assessment', 'Quality control', 'Factory automation', 'Defect detection', 'Industrial vision', 'Batch production systems', 'Particle measurements', 'Particle separators', 'Printing', 'Micromechanical devices', 'Laser radar', 'Flyback transformers', 'Integrated circuits', 'Laser modes', 'Laser radar', 'Resists', 'Geometrical optics', 'Integrated optics', 'Electronics packaging', 'Geophysical measurement techniques', 'Additives', 'Aggregates', 'Generators', 'Industries', 'Lenses', 'Manganese', 'Mirrors', 'Ovens', 'Periodic structures', 'Photonics', 'Proposals', 'Prototypes', 'Surface cleaning', 'Switched mode power supplies', 'Silicon', 'Silicon carbide', 'Toy manufacturing industry', 'Technological innovation', 'Variable speed drives', 'Tires', 'Aerospace electronics', 'Heating systems', 'Fabrication', 'Fasteners', 'Casting', 'Concrete', 'Motors', 'Power capacitors', 'Resistance', 'Filling', 'Pressing', 'Production', 'Refining', 'Three-dimensional printing', 'Integrated circuits', 'Optical detectors', 'Pipelines', 'Switches', '3D printing', 'Automation', 'Industrial inspection', 'Manufacturing processes', 'Process control', 'Quality assurance', 'Robotic arms', 'Integrated circuit modeling', 'Light emitting diodes', 'Magnetic heads', 'Printers', 'Mixers', 'Biomedical equipment', 'Materials reliability', 'Semiconductor device modeling', 'Pumps', 'Radar antennas', 'Meters', 'Vegetable oils', 'Vents', 'Catalysts', 'Metasurfaces', 'Sensor phenomena and characterization', 'Product design', 'Traffic control', 'CMOS image sensors', 'Electronic commerce', 'Energy consumption', 'Power line communications', 'Power system stability', 'Microwave integrated circuits', 'Organic light emitting diodes', 'Transformer cores', 'Transformers', 'Space missions', 'Hybrid power systems', 'Fluid dynamics', 'Spinning', 'Hybrid power systems', 'Nanobioscience', 'Nanoelectromechanical systems', 'Nanoscale devices', 'Optical device fabrication', 'Presses', 'Voltage control', 'Poles and towers', 'Elasticity', 'Presses', 'Hybrid fiber coaxial cables', 'Substrates', 'Curing', 'Hybrid power systems', 'Poles and towers', 'Weaving', 'Dams', 'Microstrip', 'Thermodynamics', 'Temperature control', 'Atomic layer deposition', 'Rotation measurement', 'Tracking loops', 'Tracking loops', 'Semiconductor lasers', 'Semiconductor device manufacture', 'Power system harmonics', 'Rails', 'Rapid prototyping', "Young's modulus", 'Electric breakdown', 'Hand tools', 'Germanium', 'Connectors', 'Bending', 'Cooling', 'Energy measurement', 'Energy resolution', 'Manufacturing', 'Thermal conductivity', 'Thermal stability', 'Power lasers', 'Micrometers', 'Transducers', 'Lightweight structures', 'Insulation', 'Pressure sensors', 'Production facilities', 'Gears', 'Gallium arsenide', 'Optical materials', 'Optical mixing', 'Transmitters', 'Tuners', 'Atom optics'], 

'Ethics and Fairness in Vision': ['Fairness in AI', 'Bias in datasets', 'Ethical AI', 'Social networking (online)', 'Privacy in vision systems', 'Explainable AI', 'Intellectual property', 'Bias detection', 'Guidelines', 'Uncertainty', 'Bias mitigation', 'Ethics', 'Fairness', 'Philosophical considerations', 'Privacy concerns', 'Regulation', 'Risk minimization', 'Transparency', 'Humanities', 'Trustworthiness', 'Collaborative work', 'Diversity methods', 'Ethical considerations in design'], 

'Miscellaneous': ['Glass box', 'Machine translation', 'Pollution', 'Road transportation', 'Solids', 'Stereo image processing', 'Telecommunication traffic', 'Working environment noise', 'Floors', 'Asia', 'Australia', 'Europe', 'Facebook', 'Flickr', 'Google', 'Microsoft Windows', 'Mobile handsets', 'Fans', 'Feeds', 'Feedback loop', 'Fuses', 'Gallium nitride', 'Games', 'Grippers', 'Grounding', 'Gyroscopes', 'Hafnium', 'Hamming distance', 'Handheld computers', 'Harmonic analysis', 'Heating systems', 'Heuristic algorithms', 'Aging', 'Bicycles', 'Bidirectional control', 'Binary codes', 'Bioinformatics', 'Biological neural networks', 'Biological system modeling', 'Bipartite graph', 'Clocks', 'Cloning', 'Clothing', 'Cloud computing', 'Codecs', 'Coherence', 'Collaboration', 'Color', 'Colored noise', 'Compounds', 'Computational efficiency', 'Computer architecture', 'Computer science', 'Computer vision', 'Computers', 'Containers', 'Controllability', 'Convergence', 'Convex functions', 'Analytical models', 'Annealing', 'Azimuth', 'Bars', 'Best practices', 'Calibration', 'Cameras', 'Cams', 'Cascading style sheets', 'Cats', 'Complexity theory', 'Cost function', 'Couplings', 'Cows', 'DSL', 'Data structures', 'Databases', 'Deconvolution', 'Decorrelation', 'Deformable models', 'Degradation', 'Delays', 'Detection algorithms', 'Detectors', 'Dimensionality reduction', 'Discrete cosine transforms', 'Dispersion', 'Distortion', 'Distribution functions', 'Dogs', 'Dynamic range', 'Dynamic scheduling', 'Dynamics', 'Eigenvalues and eigenfunctions', 'Electroencephalography', 'Electron tubes', 'Encyclopedias', 'Explosives', 'Facsimile', 'Focusing', 'Footwear', 'Forecasting', 'Glass', 'Gold', 'Graphite', 'Gravity', 'Gray-scale', 'History', 'Hyperspectral imaging', 'ISO', 'Indoor environments', 'Ink', 'Ions', 'Iron', 'Jitter', 'Lattices', 'Layout', 'Light sources', 'Lighting', 'Logistics', 'Logic gates', 'Manganese', 'Manuals', 'Nickel', 'Machine learning', 'Physics', 'Planning', 'Reliability', 'Robustness', 'Space heating', 'Standards', 'Standardization', 'Scalability', 'Schedules', 'Search problems', 'Shape', 'Shortest path problem', 'Strain', 'Spirals', 'Splines (mathematics)', 'Switches', 'Synchronization', 'Tensile stress', 'Time factors', 'Time measurement', 'Topology', 'Transmission line matrix methods', 'Tuning', 'UHDTV', 'Uncertainty', 'Wiring', 'Xenon', 'Zinc', 'Zirconium', 'Optical fiber networks', 'Optical network units', 'Smart phones', 'Solid modeling', 'Spatiotemporal phenomena', 'TV', 'Trajectory', 'Unsupervised learning', 'Visualization', 'Watermarking', 'Windows', 'Wireless communication', 'YouTube', 'Architecture', 'Games', 'Archeology', 'Boundary conditions', 'Cause effect analysis', 'Communication cables', 'Corporate acquisitions', 'Current transformers', 'Customer relationship management', 'DNA', 'Documentation', 'Drugs', 'Entertainment industry', 'Excavation', 'Extraterrestrial phenomena', 'Fatigue', 'Fault detection', 'Finance', 'Fires', 'Government', 'Grasping', 'Green energy', 'Greenhouses', 'High dynamic range', 'High-temperature superconductors', 'Impedance matching', 'Indoor environment', 'Inductors', 'Information processing', 'Insects', 'Lung', 'Licenses', 'Magnetic devices', 'Maintenance', 'Memory', 'Metalearning', 'Metals', 'Motion detection', 'Nuclear measurements', 'Nuclear power generation', 'Ontologies', 'Oscilloscopes', 'PROM', 'Pairwise error probability', 'Pedestrians', 'Pneumonia', 'Portable computers', 'Power measurement', 'Protection', 'Publishing', 'Pulse measurements', 'Punching', 'Purification', 'Recycling', 'Road safety', 'Shape measurement', 'Size measurement', 'Space mapping', 'Sparse approximation', 'Stability criteria', 'Stars', 'Streams', 'Supply chains', 'Telemedicine', 'Text detection', 'Thesauri', 'Tokenization', 'Urban planning', 'Vectors', 'Watches', 'Web sites', 'History', 'Anisotropic', 'Deformation', 'Developing countries', 'Digital humans', 'Disasters', 'Filters', 'Greedy algorithms', 'Lead acid batteries', 'Logic programming', 'Markov decision processes', 'Materials science and technology', 'Metasearch', 'Multispectral imaging', 'Plugs', 'Production systems', 'Productivity', 'Program processors', 'Programming', 'Rigidity', 'Road accidents', 'Spatial audio', 'Steganography', 'Sun', 'US Department of Homeland Security', 'Psychology', 'Anisotropic', 'Deformation', 'Developing countries', 'Digital humans', 'Disasters', 'Greedy algorithms', 'Lead acid batteries', 'Logic programming', 'Markov decision processes', 'Materials science and technology', 'Metasearch', 'Multispectral imaging', 'Plugs', 'Production systems', 'Productivity', 'Program processors', 'Programming', 'Rigidity', 'Road accidents', 'Spatial audio', 'Steganography', 'Sun', 'US Department of Homeland SecurityVocabulary', 'Artificial intelligence', 'Data visualization', 'Exploration', 'Innovations', 'Miscellaneous topics', 'Open challenges', 'Trends', 'Brightness', 'DVD', 'Foot', 'Photography', 'Rhythm', 'Space vehicles', 'Temperature measurement', 'Velocity measurement', 'Mice', 'Conferences', 'IEEE Constitution', 'Maintenance engineering', 'Media', 'Vehicular ad hoc networks', 'Two-dimensional displays', 'Organizations', 'Genetics', 'Voting', 'Computer bugs', 'Economics', 'Electronic publishing', 'Multimedia Web sites', 'Reliability engineering', 'Reliability theory', 'Length measurement', 'Mobile applications', 'Phase change materials', 'System performance', 'Ash', 'Business', 'Companies', 'Costs', 'Customer satisfaction', 'Design methodology', 'Distance measurement', 'Economic indicators', 'Electronic commerce', 'Fault tolerant systems', 'Genetic expression', 'Glands', 'Headphones', 'Law', 'Lead', 'Maximum a posteriori estimation', 'Measurement uncertainty', 'Microwave integrated circuits', 'Morphology', 'Multitasking', 'Neural circuits', 'Neural implants', 'Observers', 'Orifices', 'Pandemics', 'Patents', 'Performance analysis', 'Phase estimation', 'Position measurement', 'Power grids', 'Proteins', 'Reflection', 'Reverse engineering', 'Satellite broadcasting', 'Sensor systems', 'Sociology', 'Solution design', 'Speckle', 'Speech processing', 'Surges', 'Telescopes', 'Thermal sensors', 'Tomography', 'Turning', 'Valves', 'Fats', 'High frequency', 'Appraisal', 'Certification', 'Closed box', 'Comets', 'Commonsense reasoning', 'Computer network reliability', 'Costing', 'Data processing', 'Dentistry', 'Earth Observing System', 'Ensemble learning', 'Fabrics', 'Films', 'Knowledge acquisition', 'Mobile robots', 'Motion measurement', 'Multisensory integration', 'Neuromorphics', 'Observability', 'Optical pumping', 'Philosophical considerations', 'Polarization', 'Question answering (information retrieval)', 'Recording', 'Reflectivity', 'Research and development', 'Space exploration', 'Stimulated emission', 'Symbiosis', 'Tail', 'Teleconferencing', 'Termination of employment', 'Torque', 'Ultraviolet sources', 'Uniform resource locators', 'Web pages', 'Radio access technologies', 'Table lookup', 'Transient response', 'Brushes', 'Cavity resonators', 'Coils', 'Computer crashes', 'DH-HEMTs', 'Ducts', 'Electric shock', 'Erbium', 'GSM', 'Ganglia', 'ISO Standards', 'Laboratories', 'Material properties', 'Matrices', 'Mercury (metals)', 'Multigrid methods', 'Pins', 'Telecommunications', 'Time complexity', 'Transient analysis', 'US Department of Defense', 'Wires', '3G mobile communication', 'GSM', 'NASA', 'US Department of Transportation', 'Meetings', 'Portfolios', 'Accelerated aging', 'Chaos', 'Credit cards', 'Stairs', 'Workstations', 'Energy loss', 'Energy efficiency', 'IEC', 'IP networks', 'Global communication', 'Permission', 'RNA', 'Rats', 'FCC', 'Accuracy', 'Aerodynamics', 'Amino acids', 'Cost accounting', 'Dark matter', 'Electric potential', 'Electrostatic discharges', 'Encapsulation', 'End effectors', 'Fault diagnosis', 'Fault tolerance', 'Feathers', 'Infrared detectors', 'Infrared heating', 'Radio astronomy', 'Radio interferometry', 'Space communications']}

def process_csv(file_path):
    # Dictionaries to store counts
    grouped_counts = defaultdict(lambda: {"total": 0, "company": 0, "university": 0})

    with open(file_path, 'r', encoding="utf-8") as csvfile:
        reader = csv.DictReader(csvfile)

        for row in reader:
            # Check if "ieee_keywords" section is empty
            if not row.get('ieee_keywords'):
                continue
            
            if row['company_affiliation'] == '':  # Skip rows with missing company affiliation
                company_affiliation = 0
            else:
                company_affiliation = float(row['company_affiliation'])

            

            # Determine if the paper is company or university
            is_company = company_affiliation > 0

            # Extract keywords from the "ieee_keywords" column
            keywords = ast.literal_eval(row['ieee_keywords'])  # Convert string list to actual list

            for keyword in keywords:
                for group, group_keywords in keyword_groups.items():
                    if keyword in group_keywords:
                        grouped_counts[group]["total"] += 1
                        if is_company:
                            grouped_counts[group]["company"] += 1
                        else:
                            grouped_counts[group]["university"] += 1

    return grouped_counts

def write_results_to_file(keyword_counts, output_file):
    with open(output_file, 'w', encoding="utf-8") as f:
        f.write(f"{'Keyword':<30} {'Total Papers':<15} {'Company Papers':<15} {'University Papers':<15}\n")
        f.write("-" * 75 + "\n")
        for keyword, counts in sorted(keyword_counts.items(), key=lambda x: x[0]):
            f.write(f"{keyword:<30} {counts['total']:<15} {counts['company']:<15} {counts['university']:<15}\n")
            
def write_results_to_csv(keyword_counts, output_file):
    with open(output_file, 'w', encoding="utf-8", newline='') as csvfile:
        writer = csv.writer(csvfile)
        # Write the header
        writer.writerow(["Keyword", "Total Papers", "Company Papers", "University Papers"])
        
        # Write the data sorted by keyword
        for keyword, counts in sorted(keyword_counts.items(), key=lambda x: x[0]):
            writer.writerow([keyword, counts['total'], counts['company'], counts['university']])
                        
def extract_unique_keywords(file_path, output_file):
     # Flatten the keyword_groups dictionary into a set of grouped keywords
    grouped_keywords = set(keyword for group in keyword_groups.values() for keyword in group)
    
    unmatched_keywords = set()  # Use a set to store unique unmatched keywords

    with open(file_path, 'r', encoding="utf-8") as csvfile:
        reader = csv.DictReader(csvfile)

        for row in reader:
            # Check if "ieee_keywords" section is empty
            if not row.get('ieee_keywords'):
                continue

            # Extract keywords as a list
            try:
                keywords = ast.literal_eval(row['ieee_keywords'])  # Convert string list to actual list
                for keyword in keywords:
                    if keyword not in grouped_keywords:
                        unmatched_keywords.add(keyword)  # Add unmatched keywords to the set
            except (ValueError, SyntaxError):
                # Skip rows with invalid keyword formatting
                continue

    # Write unmatched keywords to the output file
    with open(output_file, 'w', encoding="utf-8") as outfile:
        for keyword in sorted(unmatched_keywords):  # Sort keywords alphabetically
            outfile.write(keyword + '\n')

# Replace 'your_file.csv' with the path to your CSV file
file_path = 'C:\\Users\\JAI GURU JI\\Desktop\\Data Lit\\Project\\Data_Literacy\\data\\wacv_preprocessed\\wacv2024.csv'
output_file = 'C:\\Users\\JAI GURU JI\\Desktop\\Data Lit\\Project\\Data_Literacy\\data\\wacv_preprocessed\\results_24.csv'
keyword_file = 'C:\\Users\\JAI GURU JI\\Desktop\\Data Lit\\Project\\Data_Literacy\\data\\wacv_preprocessed\\keywords_24.txt'
extract_unique_keywords(file_path, keyword_file)
keyword_counts = process_csv(file_path)
write_results_to_csv(keyword_counts, output_file)


# Merge two keyword_groups
# for group, keywords in ieee_categories.items():
#     if group in keyword_groups:
#         keyword_groups[group].extend(keywords)
#     else:
#         keyword_groups[group] = keywords

# print(keyword_groups)